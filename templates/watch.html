<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch Together</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container">
        <h1>Watch Together</h1>
        <video id="videoPlayer" controls>
            <source src="{{ stream_url }}" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <p>Session Code: <strong>{{ session_code }}</strong></p>
    </div>
    <script src="{{ url_for('static', filename='sync.js') }}"></script>
    <script>
        const video = document.getElementById("videoPlayer");
        const syncUrl = "{{ url_for('sync') }}";
        const role = "{{ role }}";
        const sessionCode = "{{ session_code }}";
        startSync(video, syncUrl, role, sessionCode);
    </script>
</body>
</html>
